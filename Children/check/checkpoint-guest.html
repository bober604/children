<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Пользовательское соглашение</title>
    <link rel="stylesheet" href="../style/index.css">
    <style>
        /* Чёрно-желтая цветовая схема */
        :root {
            --guest-primary: #ecc206;
            --guest-primary-dark: #ce9700;
            --guest-dark: #1a1a1a;
            --guest-light: #2d2d2d;
            --guest-gray: #666666;
            --guest-light-gray: #444444;
            --guest-white: #ffffff;
        }

        .body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: var(--guest-white);
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .global_section {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
        }

        .section-two {
            width: 100%;
            background: var(--guest-dark);
            border: 2px solid var(--guest-primary);
            border-radius: var(--border-radius);
            box-shadow: 0 8px 32px rgba(236, 194, 6, 0.15);
            padding: 0;
            height: 94vh;
        }

        .checkpoint-container {
            max-width: 100%;
            padding: 30px;
        }

        .checkpoint-header {
            text-align: center;
            margin-bottom: 30px;
            color: var(--guest-primary);
        }

        .checkpoint-header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .checkpoint-header p {
            font-size: 18px;
            color: var(--guest-gray);
        }

        .checkpoint-content {
            max-height: 330px;
            overflow-y: auto;
            padding: 25px;
            background: var(--guest-light);
            border-radius: 12px;
            margin-bottom: 25px;
            line-height: 1.6;
            border: 1px solid var(--guest-light-gray);
        }

        .paragraph {
            width: fit-content;
            min-width: 100px;
            max-width: 100%;
            margin-bottom: 12px;
            color: var(--guest-primary);
            border-bottom: 2px solid var(--guest-primary);
            padding-bottom: 4px;
            font-weight: 600;
        }

        .rules-section, .agreement-section {
            margin-bottom: 10px;
        }

        .rules-section h3, .agreement-section h3 {
            color: var(--guest-primary);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--guest-primary);
            padding-bottom: 10px;
            font-size: 20px;
        }

        .rules-list {
            list-style-type: decimal;
            margin-left: 25px;
            margin-bottom: 25px;
            color: var(--guest-white);
        }

        .rules-list li {
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .rules-list strong {
            color: var(--guest-primary);
        }

        .agreement-checkbox {
            display: flex;
            align-items: center;
            padding: 20px;
            background: var(--guest-light);
            border-radius: 12px;
            margin-bottom: 25px;
            border: 1px solid var(--guest-light-gray);
            transition: var(--transition);
        }

        .agreement-checkbox:hover {
            border-color: var(--guest-primary);
        }

        .agreement-checkbox input {
            margin-right: 15px;
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: var(--guest-primary);
        }

        .agreement-checkbox label {
            font-weight: 500;
            cursor: pointer;
            color: var(--guest-white);
            line-height: 1.4;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .accept-button {
            background: linear-gradient(135deg, var(--guest-primary) 0%, var(--guest-primary-dark) 100%);
            padding: 16px 40px;
            border: none;
            border-radius: 12px;
            color: var(--guest-dark);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            opacity: 0.6;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(236, 194, 6, 0.3);
        }

        .accept-button:enabled {
            opacity: 1;
        }

        .accept-button:enabled:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(236, 194, 6, 0.5);
        }

        /* Стили для скроллбара */
        .checkpoint-content::-webkit-scrollbar {
            width: 8px;
        }

        .checkpoint-content::-webkit-scrollbar-track {
            background: var(--guest-light);
            border-radius: 4px;
        }

        .checkpoint-content::-webkit-scrollbar-thumb {
            background: var(--guest-primary);
            border-radius: 4px;
        }

        .checkpoint-content::-webkit-scrollbar-thumb:hover {
            background: var(--guest-primary-dark);
        }

        /* Анимация появления */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .checkpoint-container {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Адаптивность для мобильных устройств (480px и меньше) */
        @media (max-width: 480px) {
            .body {
                padding: 15px;
                background: #0a0a0a;
            }

            .global_section {
                width: 100%;
                padding: 0;
            }

            .section-two {
                width: 100%;
                margin: 0;
                border-radius: 12px;
                border: 1px solid var(--guest-primary);
            }

            .checkpoint-container {
                padding: 10px 15px;
            }

            .checkpoint-header {
                margin-bottom: 15px;
            }

            .checkpoint-header h1 {
                font-size: 24px;
                margin-bottom: 8px;
            }

            .checkpoint-header p {
                font-size: 16px;
            }

            .checkpoint-content {
                max-height: 255px;
                padding: 15px 20px 0;
                margin-bottom: 10px;
            }

            .rules-section h3, .agreement-section h3 {
                font-size: 18px;
                margin-bottom: 15px;
            }

            .rules-list {
                margin-left: 20px;
                margin-bottom: 20px;
            }

            .rules-list li {
                margin-bottom: 10px;
                font-size: 14px;
            }

            .paragraph {
                font-size: 14px;
                margin-bottom: 10px;
            }

            .agreement-checkbox {
                padding: 10px;
                margin-bottom: 10px;
                flex-direction: row;
                align-items: flex-start;
            }

            .agreement-checkbox input {
                margin-right: 12px;
                width: 20px;
                height: 20px;
                margin-top: 2px;
            }

            .agreement-checkbox label {
                font-size: 14px;
                line-height: 1.4;
            }

            .action-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .accept-button {
                width: 100%;
                padding: 14px;
                font-size: 15px;
            }

            /* Улучшенная читаемость на маленьких экранах */
            .checkpoint-content {
                font-size: 14px;
            }
        }

        /* Для очень маленьких устройств */
        @media (max-width: 350px) {
            .checkpoint-container {
                padding: 15px 10px;
            }

            .checkpoint-header h1 {
                font-size: 22px;
            }

            .checkpoint-header p {
                font-size: 14px;
            }

            .checkpoint-content {
                padding: 15px;
                max-height: 250px;
            }

            .rules-list {
                margin-left: 15px;
            }

            .rules-list li {
                font-size: 13px;
            }

            .agreement-checkbox {
                padding: 12px;
            }

            .agreement-checkbox label {
                font-size: 13px;
            }
        }

        /* Специальные стили для улучшения читаемости */
        .agreement-section p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .agreement-section strong {
            color: var(--guest-primary);
        }

        .rules-section p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: var(--guest-gray);
        }

        /* Подсветка при фокусе для доступности */
        .agreement-checkbox input:focus {
            outline: 2px solid var(--guest-primary);
            outline-offset: 2px;
        }

        .accept-button:focus {
            outline: 2px solid var(--guest-white);
            outline-offset: 2px;
        }
    </style>
</head>
<body class="body">
    <div class="global_section">
        <section class="section-two">
            <div class="checkpoint-container">
                <div class="checkpoint-header">
                    <h1>Добро пожаловать в детскую комнату BlackPizza!</h1>
                    <p>Перед просмотром информации ознакомьтесь с правилами</p>
                </div>

                <div class="checkpoint-content">
                    <div class="rules-section">
                        <h3>📋 Правила посещения игровой комнаты</h3>
                        <ol class="rules-list">
                            <p class="paragraph">Общая информация</p>
                            <li><strong>Режим работы:</strong> ежедневно с 10:30 до 21:00</li>
                            <li><strong>Возраст детей:</strong> от 1,5 до 10 лет</li>
                            <li><strong>Вместимость:</strong> не более 15 детей одновременно</li>
                        </ol>

                        <ol class="rules-list">
                            <p class="paragraph">Требования к посетителям</p>
                            <li><strong>Сменная обувь </strong>обязательна для всех</li>
                            <li>Дети <strong>до 4 лет</strong> должны находиться в комнате <strong>только с сопровождающим</strong>, который несёт за них полную ответственность</li>
                            <li>Дети <strong>старше 4 лет</strong> могут находиться в комнате <strong>без сопровождения</strong></li>
                            <li>Дети с ограниченными возможностями допускаются только с сопровождающими</li>
                        </ol>

                        <ol class="rules-list">
                            <p class="paragraph">Строгие запреты</p>
                            <li>Нельзя приводить детей с признаками простудных или инфекционных заболеваний</li>
                            <li><strong>Запрещено приносить:</strong> продукты питания, напитки, жвачку, опасные предметы, пиротехнику, свои игрушки</li>
                            <li>Нельзя выносить имущество игровой комнаты</li>
                        </ol>

                        <ol class="rules-list">
                            <p class="paragraph">Безопасность</p>
                            <li>Строго выполнять требования сотрудников комнаты</li>
                            <li>О любых травмах или неисправностях оборудования немедленно сообщать сотруднику</li>
                            <li>Запрещено пользоваться колюще-режущими предметами и распылять аэрозоли</li>
                        </ol>

                        <ol class="rules-list">
                            <p class="paragraph">Важная информация</p>
                            <li>Администрация не несёт ответственности за оставленные вещи и ценности</li>
                            <li>Администрация не несёт ответственности за травмы, полученные вследствие нарушения правил</li>
                            <li>При неадекватном поведении ребёнка администрация вправе отказать в посещении</li>
                        </ol>

                        <p>Сотрудники обязаны контролировать соблюдение посетителями настоящих Правил, следить за правильным и бережным использованием имущества и оборудования комнаты, и имеют право делать замечание детям и сопровождающим их лицам за неправильное использование.</p>
                        <br>
                        <p>Мы осознаем, что эти требования могут показаться излишне придирчивыми. Однако все они выработаны с опытом практики и направлены на то, чтобы Ваши дети оставались здоровыми и чувствовали себя комфортно в нашей игровой комнате. Надеемся на Ваше понимание.</p>
                    </div>

                    <div class="agreement-section">
                        <h3>🔒 Соглашение об обработке персональных данных</h3>
                        <p>В соответствии с Федеральным законом №152-ФЗ «О персональных данных», предоставляя согласие на обработку данных, вы подтверждаете следующее:</p>
                            <br>
                        <p><strong>1. Состав обрабатываемых данных:</strong><br>
                        - Имена детей<br>
                        - Время начала посещения<br>
                        - Продолжительность посещения<br>
                        - Статус текущего посещения (активно/завершено)</p>
                            <br>
                        <p><strong>2. Цели обработки данных:</strong><br>
                        - Информирование о текущей занятости игровой комнаты<br>
                        - Оптимизация работы персонала<br>
                        - Обеспечение безопасности детей<br>
                        - Статистический учёт посещаемости</p>
                            <br>
                        <p><strong>3. Условия обработки:</strong><br>
                        - Данные отображаются в общем доступе в пределах помещения пиццерии<br>
                        - Не передаются третьим лицам без вашего согласия</p>
                            <br>
                        <p><strong>4. Ваши права:</strong><br>
                        Вы имеете право на отзыв согласия, для этого обратитесь к администратору заведения.</p>
                            <br>
                        <p>Нажимая кнопку "Принять", вы подтверждаете, что ознакомлены с правилами посещения и даёте согласие на обработку указанных персональных данных.</p>
                    </div>
                </div>

                <div class="agreement-checkbox">
                    <input type="checkbox" id="agreeCheckbox">
                    <label for="agreeCheckbox">Я ознакомлен(а) с правилами посещения и даю согласие на обработку персональных данных моего ребёнка</label>
                </div>

                <div class="action-buttons">
                    <button id="acceptButton" class="accept-button" disabled>Принять и продолжить</button>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const agreeCheckbox = document.getElementById('agreeCheckbox');
            const acceptButton = document.getElementById('acceptButton');

            // Принудительно сбрасываем состояние при каждой загрузке страницы
            agreeCheckbox.checked = false;
            acceptButton.disabled = true;

            // Активация кнопки при согласии
            agreeCheckbox.addEventListener('change', function() {
                acceptButton.disabled = !this.checked;
            });

            // Обработка принятия соглашения
            acceptButton.addEventListener('click', function() {
                if (agreeCheckbox.checked) {
                    // Сохраняем факт соглашения в sessionStorage
                    sessionStorage.setItem('agreementAccepted', 'true');
                    sessionStorage.setItem('agreementTimestamp', Date.now());
                    
                    // Перенаправляем на гостевой режим
                    window.location.href = '../guest.html';
                }
            });

            // Дополнительная защита: сброс при возврате на страницу
            window.addEventListener('pageshow', function(event) {
                if (event.persisted) {
                    agreeCheckbox.checked = false;
                    acceptButton.disabled = true;
                }
            });
        });

        // Полный сброс при любом заходе на страницу
        window.onload = function() {
            const agreeCheckbox = document.getElementById('agreeCheckbox');
            const acceptButton = document.getElementById('acceptButton');
            
            if (agreeCheckbox && acceptButton) {
                agreeCheckbox.checked = false;
                acceptButton.disabled = true;
            }
            
            // Очищаем предыдущее соглашение
            sessionStorage.removeItem('agreementAccepted');
            sessionStorage.removeItem('agreementTimestamp');
        }
    </script>
</body>
</html>